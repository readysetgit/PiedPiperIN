@model PiedPiperIN.Models.DashboardViewModel

@{
    ViewBag.Title = "INVOICE";
}


<body style="background-color:#ff6a00">
    <div class="row">
        <div style="border:1px solid #808080; margin-top:2px; box-shadow:#000000 1px 1px; background-color:aliceblue">
            <div class="col-sm-12">
                <div>
                    <center>
                        <h2 id="head"> </h2>
                        <script>

                            var myvar = setInterval(myTimer, 1000);
                            var d = 5;
                            function myTimer() {

                                document.getElementById("head").innerHTML = "Your Order has been Placed. Wait for 5 seconds to process your order: " + d;
                                --d;
                                if (d == 0) {

                                    document.getElementById("head").innerHTML = "Your order has been successfully placed";

                                    document.getElementById("orderno").style.visibility = "visible";
                                    clearTimeout(myvar);
                                    alert("Go to DashBoard");
                                }
                            }

                        </script>
                        <h3 style="visibility:hidden;" id="orderno">Order No:<span style="color:brown">@Session["order_no"]</span></h3>
                    </center>
                </div>
                <table class="table">
                    <tr>
                        <th>Name: <span style="color:brown"> @Session["name"]</span></th>
                        <th>Address: <span style="color:brown">@Session["address"]</span></th>
                        <th></th>
                        <th></th>
                        <th></th>
                    </tr>
                    <tr>
                        <th>
                            Product ID
                        </th>
                        <th>
                            Product Name
                        </th>
                        <th>
                            Quantity
                        </th>
                        <th>
                            Price
                        </th>
                        <th>
                            Taxable Price
                        </th>

                    </tr>

                    @foreach (var item in Model.Cart)
                    {

                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.prdouct_id)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.product_name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Quantity)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => (item.price))

                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => (item.taxable_price))

                                (@Html.DisplayFor(modelItem => (item.category))%)


                            </td>


                        </tr>
                    }
                    <tr>
                        <td></td>
                        <td></td>
                        <td><h5>Total Quantities:<span style="color:brown;">@Session["qty"]</span> </h5></td>
                        <td><h5>Total Price: <span style="color:brown;">@Session["total"]</span></h5></td>
                        <td><h5>Total Taxable Price: <span style="color:brown;">@Session["taxable"]</span></h5></td>

                    </tr>

                </table>

            </div>
            @using (Html.BeginForm())
            {
                <div style="margin-left: 15%; margin-right: 15%; width: 100%">
                    <table width="70%" style="color: lavender; text-align: center; border: solid;">
                        <tr>
                            <td>

                                <input id="btngetbyid" type="button" onclick="GetCarById();" value="Get_BYID" />
                                <input id="btnget" type="button" onclick="AllcarDetails();" value="Get_Data" />

                            </td>

                        </tr>
                    </table>
                    <table width="70%" style="color: black; border: solid; text-align:center; " id="Cartbl">

                        <tr>
                            <td><b>CarName</b></td>
                            <td><b>CarModel</b></td>
                            <td><b>CarPrice</b></td>
                            <td><b>CarColor</b></td>


                        </tr>

                    </table>

                </div>
            }


            <span>Go to Dashboard</span>

        </div>


    </div>
    
</body>
